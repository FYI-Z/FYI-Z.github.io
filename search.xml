<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Dialog预览URL文件</title>
      <link href="/2022/08/28/dialog-yu-lan-url-wen-jian/"/>
      <url>/2022/08/28/dialog-yu-lan-url-wen-jian/</url>
      
        <content type="html"><![CDATA[<div class="note success no-icon"><p>Android使用Dialog预览URL资源文件</p></div><h2 id="1-Dialog弹窗"><a href="#1-Dialog弹窗" class="headerlink" title="1. Dialog弹窗"></a>1. Dialog弹窗</h2><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">//R.style.ActionSheetDialogStyle为dialog效果样式</span><span class="token class-name">Dialog</span> dialog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dialog</span><span class="token punctuation">(</span><span class="token class-name">MyUploadGwActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>ActionSheetDialogStyle<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//填充对话框的布局</span><span class="token class-name">View</span> inflate <span class="token operator">=</span> <span class="token class-name">LayoutInflater</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token class-name">MyUploadGwActivity</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>layout<span class="token punctuation">.</span>video_dialog<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//通过view绑定布局中的控件</span><span class="token class-name">WebView</span> webView <span class="token operator">=</span> inflate<span class="token punctuation">.</span><span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>mv_webview<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//填充对话框的布局</span>dialog<span class="token punctuation">.</span><span class="token function">setContentView</span><span class="token punctuation">(</span>inflate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取当前Activity所在的窗体</span><span class="token class-name">Window</span> dialogWindow <span class="token operator">=</span> dialog<span class="token punctuation">.</span><span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置Dialog窗体弹出位置</span>dialogWindow<span class="token punctuation">.</span><span class="token function">setGravity</span><span class="token punctuation">(</span><span class="token class-name">Gravity</span><span class="token punctuation">.</span>CENTER<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获得窗体的属性</span><span class="token class-name">WindowManager<span class="token punctuation">.</span>LayoutParams</span> lp <span class="token operator">=</span> dialogWindow<span class="token punctuation">.</span><span class="token function">getAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置dialog的宽度</span>lp<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token class-name">WindowManager<span class="token punctuation">.</span>LayoutParams</span><span class="token punctuation">.</span>MATCH_PARENT<span class="token punctuation">;</span><span class="token comment">//获取屏幕的分辨率</span><span class="token class-name">DisplayMetrics</span> dm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dialog<span class="token punctuation">.</span><span class="token function">getWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getWindowManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDefaultDisplay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMetrics</span><span class="token punctuation">(</span>dm<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//按屏幕高度比例设置dialog高度</span>lp<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>dm<span class="token punctuation">.</span>heightPixels <span class="token operator">*</span> <span class="token number">0.7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>dialogWindow<span class="token punctuation">.</span><span class="token function">setAttributes</span><span class="token punctuation">(</span>lp<span class="token punctuation">)</span><span class="token punctuation">;</span>dialog<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//显示对话框</span></code></pre><h2 id="2-WebView显示网页内容"><a href="#2-WebView显示网页内容" class="headerlink" title="2. WebView显示网页内容"></a>2. WebView显示网页内容</h2><pre class="language-java" data-language="java"><code class="language-java"><span class="token number">1.</span>添加网络权限<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 添加网络权限 <span class="token operator">--</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token keyword">uses</span><span class="token operator">-</span>permission android<span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">"android.permission.INTERNET"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>    <span class="token number">2.</span>在布局文件中添加<span class="token class-name">WebView</span>控件；<span class="token operator">&lt;</span><span class="token class-name">WebView</span>         android<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">"@+id/wv_webview"</span>         android<span class="token operator">:</span>layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>         android<span class="token operator">:</span>layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>             <span class="token number">3.</span>在代码中让<span class="token class-name">WebView</span>控件加载显示网页<span class="token comment">//获得控件</span><span class="token class-name">WebView</span> webView <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">WebView</span><span class="token punctuation">)</span> <span class="token function">findViewById</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span>id<span class="token punctuation">.</span>wv_webview<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//访问网页</span>webView<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//系统默认会通过手机浏览器打开网页，为了能够直接通过WebView显示网页，则必须设置</span>webView<span class="token punctuation">.</span><span class="token function">setWebViewClient</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebViewClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">shouldOverrideUrlLoading</span><span class="token punctuation">(</span><span class="token class-name">WebView</span> view<span class="token punctuation">,</span> <span class="token class-name">WebResourceRequest</span> url<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">//返回true</span>       <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token comment">//开始加载资源监听</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onPageStarted</span><span class="token punctuation">(</span><span class="token class-name">WebView</span> view<span class="token punctuation">,</span> <span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">Bitmap</span> favicon<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//可添加loading动画</span>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPageStarted</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> url<span class="token punctuation">,</span> favicon<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//加载资源完成监听</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onPageFinished</span><span class="token punctuation">(</span><span class="token class-name">WebView</span> view<span class="token punctuation">,</span> <span class="token class-name">String</span> url<span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token comment">//结束loading动画</span>        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPageFinished</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>WebView更多使用可参考：</strong><a href="https://blog.csdn.net/weixin_40438421/article/details/85700109">https://blog.csdn.net/weixin_40438421/article/details/85700109</a></p><h2 id="3-Webview设置缩放以及自适应"><a href="#3-Webview设置缩放以及自适应" class="headerlink" title="3. Webview设置缩放以及自适应"></a>3. Webview设置缩放以及自适应</h2><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">WebSettings</span> settings <span class="token operator">=</span> webView<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>settings<span class="token punctuation">.</span><span class="token function">setUseWideViewPort</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设定支持 viewport</span>settings<span class="token punctuation">.</span><span class="token function">setLoadWithOverviewMode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//自适应屏幕</span>settings<span class="token punctuation">.</span><span class="token function">setBuiltInZoomControls</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>settings<span class="token punctuation">.</span><span class="token function">setDisplayZoomControls</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>settings<span class="token punctuation">.</span><span class="token function">setSupportZoom</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设定支持缩放</span></code></pre><h2 id="4-使用WPS预览office文件"><a href="#4-使用WPS预览office文件" class="headerlink" title="4. 使用WPS预览office文件"></a>4. 使用WPS预览office文件</h2><p>使用过程中发现android中的WebView不能直接预览office文档，因此采用本地软件WPS预览。</p><p><strong>简单使用：</strong></p><pre class="language-java" data-language="java"><code class="language-java">   <span class="token comment">/**     * 通过获取应用列表对比判断是否安装有某个应用     * @param context     * @param pkgName  （wps包名："cn.wps.moffice_eng"）     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">checkAppInstalled</span><span class="token punctuation">(</span><span class="token class-name">Context</span> context<span class="token punctuation">,</span> <span class="token class-name">String</span> pkgName<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>pkgName<span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> pkgName<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">final</span> <span class="token class-name">PackageManager</span> packageManager <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getPackageManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PackageInfo</span><span class="token punctuation">&gt;</span></span> info <span class="token operator">=</span> packageManager<span class="token punctuation">.</span><span class="token function">getInstalledPackages</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>info <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> info<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> info<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>pkgName<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span>packageName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token class-name">Intent</span> intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Bundle</span> bundle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bundle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>bundle<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">"OpenMode"</span><span class="token punctuation">,</span> <span class="token string">"ReadOnly"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 打开模式,只读模式</span>bundle<span class="token punctuation">.</span><span class="token function">putBoolean</span><span class="token punctuation">(</span><span class="token string">"SendCloseBroad"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 关闭时是否发送广播</span>bundle<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span><span class="token string">"ThirdPackage"</span><span class="token punctuation">,</span> <span class="token function">getPackageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 第三方应用的包名，用于对改应用合法性的验证</span>bundle<span class="token punctuation">.</span><span class="token function">putBoolean</span><span class="token punctuation">(</span><span class="token string">"ClearTrace"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 清除打开记录</span>bundle<span class="token punctuation">.</span><span class="token function">putBoolean</span><span class="token punctuation">(</span><span class="token string">"ClearFile"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//关闭后删除打开文件</span>intent<span class="token punctuation">.</span><span class="token function">addFlags</span><span class="token punctuation">(</span><span class="token class-name">Intent</span><span class="token punctuation">.</span>FLAG_ACTIVITY_NEW_TASK<span class="token punctuation">)</span><span class="token punctuation">;</span>intent<span class="token punctuation">.</span><span class="token function">setAction</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">android<span class="token punctuation">.</span>content<span class="token punctuation">.</span></span>Intent</span><span class="token punctuation">.</span>ACTION_VIEW<span class="token punctuation">)</span><span class="token punctuation">;</span>intent<span class="token punctuation">.</span><span class="token function">setClassName</span><span class="token punctuation">(</span><span class="token string">"cn.wps.moffice_eng"</span><span class="token punctuation">,</span> <span class="token string">"cn.wps.moffice.documentmanager.PreStartActivity2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//包名和类名</span>intent<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//这里采用传入文档的在线地址进行打开，免除下载的步骤，也不需要判断安卓版本号</span>intent<span class="token punctuation">.</span><span class="token function">putExtras</span><span class="token punctuation">(</span>bundle<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">try</span> <span class="token punctuation">{</span>    <span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ActivityNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>更多使用可参考：</strong><a href="https://www.jianshu.com/p/3de8dc4df569">https://www.jianshu.com/p/3de8dc4df569</a></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常用Git命令</title>
      <link href="/2022/08/26/chang-yong-git-ming-ling/"/>
      <url>/2022/08/26/chang-yong-git-ming-ling/</url>
      
        <content type="html"><![CDATA[<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> config --global user.name <span class="token string">"用户名"</span>   <span class="token comment">#配置全局的git提交用户名</span><span class="token function">git</span> config --global user.email <span class="token string">"邮箱"</span>    <span class="token comment">#配置全局的git提交者的邮箱</span><span class="token function">git</span> clone 仓库地址<span class="token comment">#将远程仓库克隆到本地</span><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token comment">#添加文件（控制所有文件）</span><span class="token function">git</span> <span class="token function">add</span> 文件名<span class="token comment">#控制单个文件</span><span class="token function">git</span> commit -m <span class="token string">'本次提交的说明'</span><span class="token comment">#提交文件</span><span class="token function">git</span> push<span class="token comment">#上传文件</span><span class="token function">git</span> branch  <span class="token comment">#查看分支</span><span class="token function">git</span> pull<span class="token comment">#合并更新</span><span class="token function">git</span> branch 分支名    <span class="token comment">#创建分支</span><span class="token function">git</span> checkout -b 分支名   <span class="token comment">#创建并切换到当前分支</span><span class="token comment">### 合并分支并提交到远程仓库</span><span class="token function">git</span> checkout master   <span class="token comment">#先切换到主分支</span><span class="token function">git</span> merge 分支名  <span class="token comment">#将分支合并到主分支</span><span class="token function">git</span> push <span class="token comment">#将本地代码推送到云端</span></code></pre><h2 id="速查表"><a href="#速查表" class="headerlink" title="速查表"></a>速查表</h2><img src="/2022/08/26/chang-yong-git-ming-ling/01.png" class="" title="Git命令速查表">]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux安装MySQL5.7</title>
      <link href="/2022/08/25/linux-an-zhuang-mysql5-7/"/>
      <url>/2022/08/25/linux-an-zhuang-mysql5-7/</url>
      
        <content type="html"><![CDATA[<h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><h3 id="查看是否已有老版本MySQL并卸载"><a href="#查看是否已有老版本MySQL并卸载" class="headerlink" title="查看是否已有老版本MySQL并卸载"></a>查看是否已有老版本MySQL并卸载</h3><pre class="language-bash" data-language="bash"><code class="language-bash">查看包名：rpm -qa<span class="token operator">|</span><span class="token function">grep</span> -i mysql删除命令：rpm -ev 文件名</code></pre><p>如果提示依赖包错误，则使用以下命令尝试：</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">rpm</span> -ev 文件名 --nodeps</code></pre><p>查找之前老版本MySQL的目录并删除：</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">find</span> / -name mysql <span class="token function">rm</span> -rf 目录名</code></pre><p><strong>注意：</strong>卸载后/etc/my.cnf不会删除，需要进行手工删除</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">rm</span> -rf /etc/my.cnf</code></pre><p>再次查找机器是否安装MySQL</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">rpm</span> -qa<span class="token operator">|</span><span class="token function">grep</span> -i mysql</code></pre><h3 id="安装MySQL5-7"><a href="#安装MySQL5-7" class="headerlink" title="安装MySQL5.7"></a>安装MySQL5.7</h3><p>下载地址：<a href="https://dev.mysql.com/downloads/mysql/5.7.html#downloads">https://dev.mysql.com/downloads/mysql/5.7.html#downloads</a></p><p>自己用的安装包：<a href="https://pan.baidu.com/s/1eLjtjBJ-v9CJ19U5CqzbHQ">https://pan.baidu.com/s/1eLjtjBJ-v9CJ19U5CqzbHQ</a></p><p><strong>提取码：ipel</strong></p><img src="/2022/08/25/linux-an-zhuang-mysql5-7/01.png" class=""><p>传输到Linux后解压：</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf mysql-5.7.30-linux-glibc2.12-x86_64.tar.gz</code></pre><img src="/2022/08/25/linux-an-zhuang-mysql5-7/02.png" class=""><p>移动到合适目录并重命名：</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">mv</span> mysql-5.7.30-linux-glibc2.12-x86_64 /usr/local/mysql</code></pre><img src="/2022/08/25/linux-an-zhuang-mysql5-7/03.png" class=""><p>创建MySQL用户组合用户并修改权限：</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">groupadd</span> mysql<span class="token function">useradd</span> -r -g mysql mysql</code></pre><p>创建数据目录并赋予权限：</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">mkdir</span> -p  /data/mysql              <span class="token comment">#创建目录</span><span class="token function">chown</span> mysql:mysql -R /data/mysql   <span class="token comment">#赋予权限</span></code></pre><img src="/2022/08/25/linux-an-zhuang-mysql5-7/04.png" class=""><p>配置my.cnf：</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">vim</span> /etc/my.cnf</code></pre><p>内容如下：</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>bind-address<span class="token operator">=</span><span class="token number">0.0</span>.0.0<span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token number">3306</span><span class="token assign-left variable">user</span><span class="token operator">=</span>mysql<span class="token comment">#根据自己路径修改</span><span class="token assign-left variable">basedir</span><span class="token operator">=</span>/usr/local/mysql<span class="token comment">#根据自己路径修改</span><span class="token assign-left variable">datadir</span><span class="token operator">=</span>/data/mysql<span class="token assign-left variable">socket</span><span class="token operator">=</span>/tmp/mysql.socklog-error<span class="token operator">=</span>/data/mysql/mysql.errpid-file<span class="token operator">=</span>/data/mysql/mysql.pid<span class="token comment">#character config</span><span class="token assign-left variable">character_set_server</span><span class="token operator">=</span>utf8mb4symbolic-links<span class="token operator">=</span><span class="token number">0</span><span class="token assign-left variable">explicit_defaults_for_timestamp</span><span class="token operator">=</span>true</code></pre><p>初始化数据库：</p><pre class="language-bash" data-language="bash"><code class="language-bash">进入MySQL的bin目录：<span class="token builtin class-name">cd</span> /usr/local/mysql/bin/初始化：./mysqld --defaults-file<span class="token operator">=</span>/etc/my.cnf --basedir<span class="token operator">=</span>/usr/local/mysql/ --datadir<span class="token operator">=</span>/data/mysql/ --user<span class="token operator">=</span>mysql --initialize</code></pre><p>若出现：</p><p>./mysqld: error while loading shared libraries: libaio.so.1: cannot open shared object file: No such</p><p>查看密码：</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> /data/mysql/mysql.err</code></pre><img src="/2022/08/25/linux-an-zhuang-mysql5-7/05.png" class=""><pre class="language-bash" data-language="bash"><code class="language-bash">先将mysql.server放置到/etc/init.d/mysql中：<span class="token function">cp</span> /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql启动MySQL：<span class="token function">service</span> mysql start<span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> mysql</code></pre><p>如图显示，说明MySQL已经安装成功！</p><img src="/2022/08/25/linux-an-zhuang-mysql5-7/06.png" class=""><p>修改密码</p><pre class="language-bash" data-language="bash"><code class="language-bash">使用上面的随机密码登录MySQL后执行下面三步操作，重新登录SET PASSWORD <span class="token operator">=</span> PASSWORD<span class="token punctuation">(</span><span class="token string">'123456'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ALTER <span class="token environment constant">USER</span> <span class="token string">'root'</span>@<span class="token string">'localhost'</span> PASSWORD EXPIRE NEVER<span class="token punctuation">;</span>FLUSH PRIVILEGES</code></pre><img src="/2022/08/25/linux-an-zhuang-mysql5-7/07.png" class=""><p><strong>设置任意目录都能执行mysql -u root -p登录MySQL（可选）：</strong></p><p>1、进入/etc目录，编辑profile文件</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /etc<span class="token function">vi</span> profile</code></pre><p>2、在文件末尾修改PATH变量，如图：在PATH变量的加上脚本的路径（存在其他路径用冒号“:”隔开在末尾添加）</p><img src="/2022/08/25/linux-an-zhuang-mysql5-7/08.png" class=""><p>3、保存修改的profile文件，让修改立即生效，运行命令：</p><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">source</span> /etc/profile</code></pre><p><strong>这时候仍无法使用远程连接，登录数据库执行下面三个命令</strong></p><pre class="language-bash" data-language="bash"><code class="language-bash">use mysql                                            <span class="token comment">#访问mysql库</span>update user <span class="token builtin class-name">set</span> <span class="token function">host</span> <span class="token operator">=</span> <span class="token string">'%'</span> where user <span class="token operator">=</span> <span class="token string">'root'</span><span class="token punctuation">;</span>      <span class="token comment">#使root能再任何host访问</span>FLUSH PRIVILEGES<span class="token punctuation">;</span>                                    <span class="token comment">#刷新</span></code></pre><img src="/2022/08/25/linux-an-zhuang-mysql5-7/09.png" class=""><p><strong>再次使用远程连接</strong></p><img src="/2022/08/25/linux-an-zhuang-mysql5-7/10.png" class=""><p><strong>连接成功！！！</strong></p><p><strong>MySQL5.7装好了，这是我卸载了其他版本的MySQL重装的过程，按这个流程应该能顺利安装</strong></p><p><strong>远程连接注意防火墙问题！！！</strong><a href="https://feiutech.blog.csdn.net/article/details/74502967?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-8.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-8.control">防火墙相关操作</a></p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo常用命令</title>
      <link href="/2022/08/24/hexo-chang-yong-ming-ling/"/>
      <url>/2022/08/24/hexo-chang-yong-ming-ling/</url>
      
        <content type="html"><![CDATA[<h2 id="一、安装、升级"><a href="#一、安装、升级" class="headerlink" title="一、安装、升级"></a>一、安装、升级</h2><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo -g <span class="token comment">#安装  </span><span class="token function">npm</span> update hexo -g <span class="token comment">#升级  </span>hexo init <span class="token comment">#初始化</span></code></pre><h2 id="二、简写"><a href="#二、简写" class="headerlink" title="二、简写"></a>二、简写</h2><pre class="language-bash" data-language="bash"><code class="language-bash">hexo n <span class="token string">"我的博客"</span> <span class="token operator">==</span> hexo new <span class="token string">"我的博客"</span> <span class="token comment">#新建文章</span>hexo p <span class="token operator">==</span> hexo publishhexo g <span class="token operator">==</span> hexo generate<span class="token comment">#生成</span>hexo s <span class="token operator">==</span> hexo server <span class="token comment">#启动服务预览</span>hexo d <span class="token operator">==</span> hexo deploy<span class="token comment">#部署</span></code></pre><h2 id="三、服务器"><a href="#三、服务器" class="headerlink" title="三、服务器"></a>三、服务器</h2><pre class="language-bash" data-language="bash"><code class="language-bash">hexo server <span class="token comment">#Hexo 会监视文件变动并自动更新，您无须重启服务器。</span>hexo server -s <span class="token comment">#静态模式</span>hexo server -p <span class="token number">5000</span> <span class="token comment">#更改端口</span>hexo server -i <span class="token number">192.168</span>.1.1 <span class="token comment">#自定义 IP</span>hexo clean <span class="token comment">#清除缓存 网页正常情况下可以忽略此条命令</span>hexo g <span class="token comment">#生成静态网页</span>hexo d <span class="token comment">#开始部署</span></code></pre><h2 id="四、监视文件变动"><a href="#四、监视文件变动" class="headerlink" title="四、监视文件变动"></a>四、监视文件变动</h2><pre class="language-bash" data-language="bash"><code class="language-bash">hexo generate <span class="token comment">#使用 Hexo 生成静态文件快速而且简单</span>hexo generate --watch <span class="token comment">#监视文件变动</span></code></pre><h2 id="五、完成后部署"><a href="#五、完成后部署" class="headerlink" title="五、完成后部署"></a>五、完成后部署</h2><pre class="language-bash" data-language="bash"><code class="language-bash">两个命令作用相同hexo generate --deployhexo deploy --generatehexo deploy -ghexo server -g</code></pre><h2 id="六、草稿"><a href="#六、草稿" class="headerlink" title="六、草稿"></a>六、草稿</h2><pre class="language-bash" data-language="bash"><code class="language-bash">hexo publish <span class="token punctuation">[</span>layout<span class="token punctuation">]</span> <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span></code></pre><h2 id="七、模板"><a href="#七、模板" class="headerlink" title="七、模板"></a>七、模板</h2><pre class="language-bash" data-language="bash"><code class="language-bash">hexo new <span class="token string">"postName"</span> <span class="token comment">#新建文章</span>hexo new page <span class="token string">"pageName"</span> <span class="token comment">#新建页面</span>hexo generate <span class="token comment">#生成静态页面至public目录</span>hexo server <span class="token comment">#开启预览访问端口（默认端口4000，'ctrl + c'关闭server）</span>hexo deploy <span class="token comment">#将.deploy目录部署到GitHub</span>hexo new <span class="token punctuation">[</span>layout<span class="token punctuation">]</span> <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>hexo new photo <span class="token string">"My Gallery"</span>hexo new <span class="token string">"Hello World"</span> --lang tw</code></pre><h2 id="八、推送到服务器上"><a href="#八、推送到服务器上" class="headerlink" title="八、推送到服务器上"></a>八、推送到服务器上</h2><pre class="language-bash" data-language="bash"><code class="language-bash">hexo n <span class="token comment">#写文章</span>hexo g <span class="token comment">#生成</span>hexo d <span class="token comment">#部署 #可与hexo g合并为 hexo d -g</span></code></pre><p>更全面详细的指令使用参考官网：<a href="https://hexo.io/zh-cn/docs/commands">指令 | Hexo</a></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/08/23/hello-world/"/>
      <url>/2022/08/23/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
